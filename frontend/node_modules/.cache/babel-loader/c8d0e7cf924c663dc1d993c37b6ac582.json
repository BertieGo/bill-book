{"ast":null,"code":"import _classCallCheck from\"/Users/huangwei/learn/x-mind/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/huangwei/learn/x-mind/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/huangwei/learn/x-mind/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/huangwei/learn/x-mind/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{DatePicker,Form,Button,Input,Row,Col}from'antd';import isFunction from'lodash/isFunction';import CategorySelector from'../../components/CategorySelector';import{MSG_FORM}from'../../constants';var AddBillForm=/*#__PURE__*/function(_React$Component){_inherits(AddBillForm,_React$Component);var _super=_createSuper(AddBillForm);function AddBillForm(){var _this;_classCallCheck(this,AddBillForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onFinish=function(values){var onAddBillItem=_this.props.onAddBillItem;var param={time:values.time.format('x'),amount:+values.amount,category:values.category};if(isFunction(onAddBillItem)){onAddBillItem(param);}};return _this;}_createClass(AddBillForm,[{key:\"render\",value:function render(){var _this$props=this.props,categories=_this$props.categories,isFisFetchingBillCategories=_this$props.isFisFetchingBillCategories;return/*#__PURE__*/React.createElement(Form,{onFinish:this.onFinish},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"title\",span:2},\"\\u5F55\\u5165\\uFF1A\"),/*#__PURE__*/React.createElement(Col,{span:4},/*#__PURE__*/React.createElement(Form.Item,{name:\"time\",label:\"\\u65F6\\u95F4\",rules:[{type:'object',required:true,message:MSG_FORM.TIME_REQUIRED}]},/*#__PURE__*/React.createElement(DatePicker,{showTime:true,format:\"YYYY-MM-DD HH:mm:ss\",placeholder:MSG_FORM.TIME_REQUIRED}))),/*#__PURE__*/React.createElement(Col,{span:4},/*#__PURE__*/React.createElement(Form.Item,{name:\"category\",label:\"\\u7C7B\\u578B\",rules:[{type:'string',required:true,message:MSG_FORM.CATEGORY_REQUIRED}]},/*#__PURE__*/React.createElement(CategorySelector,{categories:categories,isFisFetchingBillCategories:isFisFetchingBillCategories}))),/*#__PURE__*/React.createElement(Col,{span:3},/*#__PURE__*/React.createElement(Form.Item,{name:\"amount\",label:\"\\u91D1\\u989D\",rules:[{type:'string',required:true,message:MSG_FORM.AMOUNT_REQUIRED}]},/*#__PURE__*/React.createElement(Input,{placeholder:MSG_FORM.AMOUNT_REQUIRED,type:\"number\"}))),/*#__PURE__*/React.createElement(Col,{span:2,className:\"ml30\"},/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"\\u6DFB\\u52A0\")))));}}]);return AddBillForm;}(React.Component);export{AddBillForm as default};","map":{"version":3,"sources":["/Users/huangwei/learn/x-mind/frontend/src/container/AddBillForm/index.tsx"],"names":["React","DatePicker","Form","Button","Input","Row","Col","isFunction","CategorySelector","MSG_FORM","AddBillForm","onFinish","values","onAddBillItem","props","param","time","format","amount","category","categories","isFisFetchingBillCategories","type","required","message","TIME_REQUIRED","CATEGORY_REQUIRED","AMOUNT_REQUIRED","Component"],"mappings":"gmBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,MAA3B,CAAmCC,KAAnC,CAA0CC,GAA1C,CAA+CC,GAA/C,KAA0D,MAA1D,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CAEA,MAAOC,CAAAA,gBAAP,KAA6B,mCAA7B,CAEA,OAASC,QAAT,KAAyB,iBAAzB,C,GAGqBC,CAAAA,W,2VAEjBC,Q,CAAW,SAACC,MAAD,CAA2B,IAC1BC,CAAAA,aAD0B,CACR,MAAKC,KADG,CAC1BD,aAD0B,CAGlC,GAAME,CAAAA,KAAK,CAAG,CACVC,IAAI,CAAEJ,MAAM,CAACI,IAAP,CAAYC,MAAZ,CAAmB,GAAnB,CADI,CAEVC,MAAM,CAAE,CAACN,MAAM,CAACM,MAFN,CAGVC,QAAQ,CAAEP,MAAM,CAACO,QAHP,CAAd,CAMA,GAAIZ,UAAU,CAACM,aAAD,CAAd,CAA+B,CAC3BA,aAAa,CAACE,KAAD,CAAb,CACH,CACJ,C,8EAEQ,iBAID,KAAKD,KAJJ,CAEDM,UAFC,aAEDA,UAFC,CAGDC,2BAHC,aAGDA,2BAHC,CAML,mBACI,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKV,QAArB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,SAAS,CAAC,OAAf,CAAuB,IAAI,CAAE,CAA7B,uBADJ,cAEI,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,eACI,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,MAAhB,CAAuB,KAAK,CAAC,cAA7B,CAAkC,KAAK,CAAE,CAAC,CAAEW,IAAI,CAAE,QAAR,CAAkBC,QAAQ,CAAE,IAA5B,CAAkCC,OAAO,CAAEf,QAAQ,CAACgB,aAApD,CAAD,CAAzC,eACI,oBAAC,UAAD,EAAY,QAAQ,KAApB,CAAqB,MAAM,CAAC,qBAA5B,CAAkD,WAAW,CAAEhB,QAAQ,CAACgB,aAAxE,EADJ,CADJ,CAFJ,cAOI,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,eACI,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,UAAhB,CAA2B,KAAK,CAAC,cAAjC,CAAsC,KAAK,CAAE,CAAC,CAAEH,IAAI,CAAE,QAAR,CAAkBC,QAAQ,CAAE,IAA5B,CAAkCC,OAAO,CAAEf,QAAQ,CAACiB,iBAApD,CAAD,CAA7C,eACI,oBAAC,gBAAD,EACI,UAAU,CAAEN,UADhB,CAEI,2BAA2B,CAAEC,2BAFjC,EADJ,CADJ,CAPJ,cAeI,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,eACI,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,QAAhB,CAAyB,KAAK,CAAC,cAA/B,CAAoC,KAAK,CAAE,CAAC,CAAEC,IAAI,CAAE,QAAR,CAAkBC,QAAQ,CAAE,IAA5B,CAAkCC,OAAO,CAAEf,QAAQ,CAACkB,eAApD,CAAD,CAA3C,eACI,oBAAC,KAAD,EAAO,WAAW,CAAElB,QAAQ,CAACkB,eAA7B,CAA8C,IAAI,CAAC,QAAnD,EADJ,CADJ,CAfJ,cAoBI,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,SAAS,CAAC,MAAxB,eACI,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,iBADJ,CADJ,CApBJ,CADJ,CADJ,CA8BH,C,yBApDoC3B,KAAK,CAAC4B,S,SAA1BlB,W","sourcesContent":["import React from 'react';\nimport { DatePicker, Form, Button, Input, Row, Col } from 'antd';\nimport isFunction from 'lodash/isFunction';\n\nimport CategorySelector from '../../components/CategorySelector';\nimport { IAddBillFormProps, IParamsObject } from '../../declare';\nimport { MSG_FORM } from '../../constants';\n\n\nexport default class AddBillForm extends React.Component<IAddBillFormProps, {}> {\n\n    onFinish = (values: IParamsObject) => {\n        const { onAddBillItem } = this.props;\n\n        const param = {\n            time: values.time.format('x'),\n            amount: +values.amount,\n            category: values.category\n        }\n\n        if (isFunction(onAddBillItem)) {\n            onAddBillItem(param)\n        }\n    }\n\n    render() {\n        const {\n            categories,\n            isFisFetchingBillCategories,\n        } = this.props;\n\n        return (\n            <Form onFinish={this.onFinish}>\n                <Row>\n                    <Col className=\"title\" span={2}>录入：</Col>\n                    <Col span={4}>\n                        <Form.Item name=\"time\" label=\"时间\" rules={[{ type: 'object', required: true, message: MSG_FORM.TIME_REQUIRED }]}>\n                            <DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" placeholder={MSG_FORM.TIME_REQUIRED}/>\n                        </Form.Item>\n                    </Col>\n                    <Col span={4}>\n                        <Form.Item name=\"category\" label=\"类型\" rules={[{ type: 'string', required: true, message: MSG_FORM.CATEGORY_REQUIRED }]}>\n                            <CategorySelector\n                                categories={categories}\n                                isFisFetchingBillCategories={isFisFetchingBillCategories}\n                            />\n                        </Form.Item>\n                    </Col>\n                    <Col span={3}>\n                        <Form.Item name=\"amount\" label=\"金额\" rules={[{ type: 'string', required: true, message: MSG_FORM.AMOUNT_REQUIRED }]}>\n                            <Input placeholder={MSG_FORM.AMOUNT_REQUIRED} type=\"number\"/>\n                        </Form.Item>\n                    </Col>\n                    <Col span={2} className=\"ml30\">\n                        <Form.Item>\n                            <Button type=\"primary\" htmlType=\"submit\">添加</Button>\n                        </Form.Item>\n                    </Col>\n                </Row>\n            </Form>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}